name: æ¯æ—¥ç”¢å‡ºå…¨çƒè¡¨é¢è™•ç†è¶¨å‹¢å ±å‘Š

on:
  schedule:
    - cron: "0 1 * * *"  # æ¯æ—¥ UTC 01:00ï¼ˆå°ç£ 09:00ï¼‰
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3

    - name: ç”¢å‡º HTML å ±å‘Š
      run: |
        today=$(date +'%Y-%m-%d')
        echo "<!DOCTYPE html>" > index.html
        echo "<html lang='zh-Hant'><head><meta charset='UTF-8'>" >> index.html
        echo "<title>å…¨çƒè¡¨é¢è™•ç†æŠ€è¡“è¶¨å‹¢ï¼ˆ$todayï¼‰</title>" >> index.html
        echo "<style>body { font-family: Helvetica, sans-serif; margin: 40px; background-color: #f4f4f4; color: #333; } h1 { color: #004d99; } section { margin-bottom: 30px; background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); } .region { font-weight: bold; color: #cc3300; } ul { padding-left: 20px; } a { color: #0066cc; text-decoration: none; }</style></head><body>" >> index.html
        echo "<h1>å…¨çƒè¡¨é¢è™•ç†æŠ€è¡“è¶¨å‹¢å ±å‘Šï¼ˆ$todayï¼‰</h1>" >> index.html

        echo "<section><h2>ğŸ‡ºğŸ‡¸ ç¾åœ‹</h2><ul>" >> index.html
        echo "<li><strong>PPG æ¨å‡ºæ–°ä¸€ä»£é›»æ³³å¡—è£ç³»çµ±</strong>ï¼šå¼·åŒ–æ±½è»Šè€è…è•èˆ‡ç¯€èƒ½æ•ˆç›Šã€‚<br>ä¾†æºï¼š<a href='https://news.ppg.com' target='_blank'>PPG Press</a></li>" >> index.html
        echo "<li><strong>Low-VOC plating system å°ˆåˆ©</strong>ï¼šç’°ä¿é›»éæŠ€è¡“ã€‚<br>ä¾†æºï¼š<a href='https://patents.google.com' target='_blank'>Google Patents</a></li>" >> index.html
        echo "</ul></section>" >> index.html

        echo "<section><h2>ğŸ‡¯ğŸ‡µ æ—¥æœ¬</h2><ul>" >> index.html
        echo "<li><strong>æ—¥ç«‹åŒ–æˆå¾®ç´°é›»éæŠ€è¡“</strong>ï¼šåŠå°é«”å°ç·šå°è£æ‡‰ç”¨ã€‚<br>ä¾†æºï¼šæ—¥ç¶“Tech News</li>" >> index.html
        echo "<li><strong>J-PlatPat å°ˆåˆ©ï¼šé™½æ¥µæ°§åŒ–é‹è™•ç†æŠ€è¡“</strong><br>ä¾†æºï¼š<a href='https://www.j-platpat.inpit.go.jp/' target='_blank'>J-PlatPat</a></li>" >> index.html
        echo "</ul></section>" >> index.html

        echo "<section><h2>ğŸ‡ªğŸ‡º æ­æ´²</h2><ul>" >> index.html
        echo "<li><strong>Atotech ç™¼è¡¨æ°¸çºŒé›»éè£½ç¨‹</strong>ï¼šæ¨å‡ºç„¡æ°Ÿç”¢å“ã€‚<br>ä¾†æºï¼š<a href='https://www.atotech.com/news/' target='_blank'>Atotech</a></li>" >> index.html
        echo "<li><strong>Espacenet å°ˆåˆ©ï¼šé‰»æ›¿ä»£é›»éæŠ€è¡“</strong><br>ä¾†æºï¼š<a href='https://worldwide.espacenet.com/' target='_blank'>Espacenet</a></li>" >> index.html
        echo "</ul></section>" >> index.html

        echo "</body></html>" >> index.html

    - name: Commit and Push æ›´æ–°å ±å‘Š
      run: |
        git config user.name github-actions
        git config user.email github-actions@github.com
        git pull origin main --rebase || true  # å…ˆåŒæ­¥æœ€æ–°ç‰ˆæœ¬
        git add index.html
        git commit -m "æ¯æ—¥æ›´æ–°ï¼šå…¨çƒè¡¨é¢è™•ç†æŠ€è¡“è¶¨å‹¢å ±å‘Š $(date +'%Y-%m-%d')" || echo "ç„¡éœ€ commit"
        git push || echo "Push å¤±æ•—ï¼Œä½†å·²å®Œæˆå…¶ä»–æ­¥é©Ÿ"

